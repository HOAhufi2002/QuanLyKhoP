{% extends "layout.html" %}

{% block content %}
<h1>Sửa Công Thức Nấu Nước Dùng</h1>
<form method="POST" action="{{ url_for('nuocdung.edit_congthuc', id=congthuc.ID) }}">
    <div class="form-group">
        <label for="TenCongThuc">Tên Công Thức</label>
        <input type="text" class="form-control" id="TenCongThuc" name="TenCongThuc" value="{{ congthuc.TenCongThuc }}" required>
    </div>
    <div class="form-group">
        <label for="NguyenLieuID">Nguyên Liệu</label>
        <div>
            {% set selected_nguyenlieu = congthuc.NguyenLieuID.split(', ') %}
            {% for nguyenlieu in nguyenlieu_list %}
            <div class="form-check">
                <input class="form-check-input" type="checkbox" name="NguyenLieuID" value="{{ nguyenlieu.TenNguyenLieu }}" id="nguyenlieu{{ nguyenlieu.ID }}" {% if nguyenlieu.TenNguyenLieu in selected_nguyenlieu %}checked{% endif %}>
                <label class="form-check-label" for="nguyenlieu{{ nguyenlieu.ID }}">{{ nguyenlieu.TenNguyenLieu }}</label>
            </div>
            {% endfor %}
        </div>
    </div>
    <div class="form-group">
        <label for="PhuGiaGiaViID">Phụ Gia/Gia Vị</label>
        <div>
            {% set selected_phugia = congthuc.PhuGiaGiaViID.split(', ') %}
            {% for phugia in phugiagiavi_list %}
            <div class="form-check">
                <input class="form-check-input" type="checkbox" name="PhuGiaGiaViID" value="{{ phugia.TenPhuGia }}" id="phugia{{ phugia.ID }}" {% if phugia.TenPhuGia in selected_phugia %}checked{% endif %}>
                <label class="form-check-label" for="phugia{{ phugia.ID }}">{{ phugia.TenPhuGia }}</label>
            </div>
            {% endfor %}
        </div>
    </div>
    <div class="form-group">
        <label for="PhuongPhap">Phương Pháp</label>
        <textarea class="form-control" id="PhuongPhap" name="PhuongPhap" rows="3" required>{{ congthuc.PhuongPhap }}</textarea>
    </div>
    <button type="submit" class="btn btn-primary">Cập Nhật Công Thức</button>
</form>
{% endblock %}
